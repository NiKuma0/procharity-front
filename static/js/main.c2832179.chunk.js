(this.webpackJsonpprocharity=this.webpackJsonpprocharity||[]).push([[0],{448:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(27),o=n.n(i),s=n(53),c=n(45),l=n(21),u=n(8),d=n.n(u),p=n(22),h=n(13),j=n(272),b=n(518),m=n(519),x=n(515),f=n(6),O=n(39),g=n(97),v=n(46),w=n(91),k=n(38),y=n(520),S=n(495),F=n(496),C=n(490),N=Object(C.a)((function(e){return{authForm:{display:"flex",maxWidth:"314px",margin:"60px 0 0 0",flexDirection:"column",border:"none",padding:"0",width:"288px",gap:20,alignItems:"center"},authFormError:{position:"absolute",top:70},statusInfo:{position:"absolute",top:70},invite:{display:"grid",marginTop:"20",width:"100%",placeItems:"center"},authFormInputContainer:{position:"relative",marginBottom:"16px",display:"flex",flexDirection:"column",gap:35,width:"100%",border:"none"},authFormSubmitContainer:{display:"flex",justifyContent:"center",position:"relative",width:"100%"},authFormButtonContainer:{display:"flex",alignItems:"center",flexDirection:"column"},authFormButton:{cursor:"pointer",width:"120px",minHeight:"44px",backgroundPosition:"center",background:e.palette.secondary.main,border:"none",padding:"0"},authFormInput:{backgroundColor:e.palette.background.paper,filter:"none",borderRadius:"4px",color:e.palette.text.primary,position:"relative",width:"100%",maxWidth:"288px"}}})),B=n(2),T=v.a().shape({email:v.b().email("\u0422\u0430\u043a\u043e\u0439 e-mail \u043d\u0435 \u043f\u043e\u0434\u043e\u0439\u0434\u0435\u0442").required("\u041f\u043e\u043b\u0435 e-mail \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043a \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e"),password:v.b().required("\u041f\u043e\u043b\u0435 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043a \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e").min(8,"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}),I=function(e){var t=e.onLogin,n=Object(k.e)({resolver:Object(w.a)(T),mode:"onTouched"}),a=n.handleSubmit,r=n.control,i=n.formState,o=i.errors,c=(i.isValid,N()),u=function(){var e=Object(p.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(n);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)("form",{className:c.authForm,onSubmit:a(u),children:[Object(B.jsxs)("fieldset",{className:c.authFormInputContainer,children:[Object(B.jsx)(k.a,{name:"email",control:r,defaultValue:"",render:function(e){var t,n,a=e.field;return Object(B.jsx)(y.a,Object(l.a)({label:"E-mail",error:Boolean(null===(t=o.email)||void 0===t?void 0:t.message),helperText:null===(n=o.email)||void 0===n?void 0:n.message,className:c.authFormInput,size:"medium",variant:"outlined"},a))}}),Object(B.jsx)(k.a,{name:"password",control:r,defaultValue:"",render:function(e){var t,n,a=e.field;return Object(B.jsx)(y.a,Object(l.a)({variant:"outlined",label:"\u041f\u0430\u0440\u043e\u043b\u044c",error:Boolean(null===(t=o.password)||void 0===t?void 0:t.message),helperText:null===(n=o.password)||void 0===n?void 0:n.message,className:c.authFormInput,type:"password",size:"medium"},a))}})]}),Object(B.jsx)(S.a,{component:s.b,to:"/reset_password",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(B.jsx)(F.a,{className:c.authFormButton,type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})]})},E=n(500),_=n(501),D=n(502),P=n(524),z=n(503),H=n(494),A=n(194),R=n.n(A),M=n(252),L=n.n(M),q=n(195),W=n.n(q),V=n(253),G=n.n(V),J=n(497),K=n(498),U=n(499),X=n(249),Q=n.n(X),Y=n(248),Z=n.n(Y),$=n(251),ee=n.n($),te=n(250),ne=n.n(te),ae=function(){var e=Object(O.g)();return Object(B.jsxs)("div",{children:[Object(B.jsxs)(J.a,{button:!0,onClick:function(){return e.push("/dashboard")},children:[Object(B.jsx)(K.a,{children:Object(B.jsx)(Z.a,{})}),Object(B.jsx)(U.a,{primary:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"})]}),Object(B.jsxs)(J.a,{button:!0,onClick:function(){return e.push("/send")},children:[Object(B.jsx)(K.a,{children:Object(B.jsx)(Q.a,{})}),Object(B.jsx)(U.a,{primary:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"})]}),Object(B.jsxs)(J.a,{button:!0,onClick:function(){return e.push("/invite")},children:[Object(B.jsx)(K.a,{children:Object(B.jsx)(ne.a,{})}),Object(B.jsx)(U.a,{primary:"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c"})]})]})},re=function(e){var t=e.handleLogout;return Object(B.jsx)("div",{children:Object(B.jsxs)(J.a,{onClick:t,component:"button",button:!0,children:[Object(B.jsx)(K.a,{children:Object(B.jsx)(ee.a,{})}),Object(B.jsx)(U.a,{primary:"\u0412\u044b\u0439\u0442\u0438"})]})})},ie=Object(C.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},drawerPosition:{position:"absolute",top:"0",left:"0",height:"100%",flexShrink:0},toolbarIcon:Object(l.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:250,width:"calc(100% - ".concat(250,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:250,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(c.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:{flexGrow:1},content:{flexGrow:1,height:"100vh",overflow:"auto",marginTop:100,"& .quill":{width:"90%"}},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},richTextEditor:{maxWidth:"60%"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},authFormTitle:{width:"100%",textAlign:"center",fontSize:"2rem",lineHeight:"2rem"},headerContainer:{display:"flex",alignItems:"center",width:"100%",position:"relative"},buttonThemeContainer:{paddingRight:10,position:"absolute",right:"0"}}})),oe=function(e){var t,n,a,r,i,o,s=e.handleDrawerOpen,c=e.handleDrawerClose,l=e.isMenuOpen,u=e.handleSetTheme,d=e.isDark,p=e.removeToken,h=ie(),j=Object(O.g)(),b=null!==(t=null===(n=Object(O.i)("/"))||void 0===n?void 0:n.isExact)&&void 0!==t&&t,m=null!==(a=null===(r=Object(O.i)("/register/:id"))||void 0===r?void 0:r.isExact)&&void 0!==a&&a,x=null!==(i=null===(o=Object(O.i)("/reset_password"))||void 0===o?void 0:o.isExact)&&void 0!==i&&i;return Object(B.jsx)(B.Fragment,{children:b||m||x?Object(B.jsxs)("div",{className:h.headerContainer,children:[Object(B.jsx)("h1",{className:h.authFormTitle,children:"ProCharity"}),Object(B.jsx)("div",{className:h.buttonThemeContainer,children:Object(B.jsx)(D.a,{onClick:u,children:d?Object(B.jsx)(R.a,{}):Object(B.jsx)(W.a,{})})})]}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(E.a,{position:"absolute",className:Object(f.a)(h.appBar,l&&h.appBarShift),children:Object(B.jsxs)(_.a,{className:h.toolbar,children:[Object(B.jsx)(D.a,{edge:"start",color:"inherit","aria-label":"isMenuOpen drawer",onClick:s,className:Object(f.a)(h.menuButton,l&&h.menuButtonHidden),children:Object(B.jsx)(L.a,{})}),Object(B.jsx)("div",{className:h.appBarSpacer}),Object(B.jsx)(D.a,{onClick:u,children:d?Object(B.jsx)(R.a,{}):Object(B.jsx)(W.a,{})})]})}),Object(B.jsxs)(P.a,{variant:"permanent",classes:{paper:Object(f.a)(h.drawerPaper,!l&&h.drawerPaperClose),root:h.drawerPosition},open:l,children:[Object(B.jsx)("div",{className:h.toolbarIcon,children:Object(B.jsx)(D.a,{onClick:c,children:Object(B.jsx)(G.a,{})})}),Object(B.jsx)(z.a,{}),Object(B.jsx)(H.a,{children:Object(B.jsx)(ae,{})}),Object(B.jsx)(z.a,{}),Object(B.jsx)(H.a,{children:Object(B.jsx)(re,{handleLogout:function(){p(),j.push("/")}})})]})]})})},se=n(517),ce=n(449),le=n(523),ue=n(516),de=n(166),pe=n.n(de),he=n(271),je=n(274),be=n(140),me=n(54),xe=n(504),fe=n(505),Oe=n(509),ge=n(268),ve=n(139),we=n(269),ke=n(63),ye=n(275);function Se(e){var t,n=e.data,a=Object(me.a)(),r=Object.keys(null!==(t=null===n||void 0===n?void 0:n.added_users)&&void 0!==t?t:{}).reduce((function(e,t){var a,r=null!==(a=null===n||void 0===n?void 0:n.added_users[t])&&void 0!==a?a:0,i={time:Object(he.a)(t,"dd MMMM, yyyy",new Date,{locale:je.a}).toISOString(),amount:r};return e.push(i),e}),[]);return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(be.a,{children:"C\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0437\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u0435\u0441\u044f\u0446"}),Object(B.jsx)(xe.a,{height:300,children:Object(B.jsxs)(fe.a,{data:r,margin:{top:16,right:16,bottom:0,left:24},children:[Object(B.jsx)(Oe.a,{strokeDasharray:"3 3"}),Object(B.jsx)(ge.a,{tickFormatter:function(e,t){var n=new Date(e);return"".concat(n.getDate())},dataKey:"time",stroke:a.palette.text.primary}),Object(B.jsx)(ve.a,{label:"\u0434\u0430\u0442\u0430",labelFormatter:function(e,t){if(0===e)return"date";var n=new Date(e);return new Intl.DateTimeFormat("ru-Ru",{day:"numeric",month:"long",year:"numeric"}).format(n)},formatter:function(e,t,n){return[e,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"]},wrapperStyle:{width:300,backgroundColor:"#FFF",color:"black"}}),Object(B.jsx)(we.a,{allowDecimals:!1,stroke:a.palette.text.primary,children:Object(B.jsx)(ke.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:a.palette.text.primary},children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"})}),Object(B.jsx)(ye.a,{type:"monotone",dataKey:"amount",stroke:a.palette.secondary.light,dot:!1})]})})]})}var Fe=n(510),Ce=n(514),Ne=n(513),Be=n(511),Te=n(512),Ie=Object(C.a)((function(e){return{table:{}}})),Ee=function(e){var t=e.actionsStats,n=Ie(),a=null!==t&&void 0!==t?t:{command_stats:0};return Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)(Fe.a,{className:n.table,size:"small",children:[Object(B.jsx)(Be.a,{children:Object(B.jsxs)(Te.a,{children:[Object(B.jsx)(Ne.a,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u041a\u043e\u043c\u0430\u043d\u0434\u044b"}),Object(B.jsx)(Ne.a,{align:"right",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})}),Object(B.jsx)(Ce.a,{children:Object.keys(a).map((function(e){return Object(B.jsxs)(Te.a,{children:[Object(B.jsx)(Ne.a,{children:e}),Object(B.jsx)(Ne.a,{align:"right",children:a[e]})]},e)}))})]})})},_e=Object(C.a)({depositContext:{flex:1}}),De=function(e){var t=e.text,n=e.title,a=_e(),r=Date.now();return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(be.a,{component:"p",variant:"h4",children:t}),Object(B.jsx)(be.a,{component:"p",variant:"body1",children:n}),Object(B.jsx)(be.a,{variant:"body1",color:"textSecondary",className:a.depositContext,children:new Intl.DateTimeFormat("ru-Ru",{day:"numeric",month:"long",year:"numeric"}).format(r)}),Object(B.jsx)("div",{})]})},Pe=Object(C.a)((function(e){return{root:{display:"flex"},authFormError:{position:"absolute",top:70},toolbar:{paddingRight:24},toolbarIcon:Object(l.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(c.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100%",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"hidden",flexDirection:"column"},fixedHeight:{minHeight:240}}})),ze=function(e){var t,n,r,i,o=e.userStats,s=e.fetchUserStats,c=Pe(),l=(Object(O.g)(),Object(a.useState)(!1)),u=Object(h.a)(l,2),d=u[0],p=u[1],j=Object(a.useState)(null),b=Object(h.a)(j,2),m=b[0];b[1];Object(a.useEffect)((function(){s()}),[]);Object(f.a)(c.paper,c.fixedHeight);return Object(B.jsxs)(x.a,{maxWidth:"lg",className:c.container,children:[Object(B.jsx)(ue.a,{in:d,className:c.authFormError,children:Object(B.jsx)(le.a,{severity:"error",variant:"outlined",action:Object(B.jsx)(D.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){p(!1)},children:Object(B.jsx)(pe.a,{fontSize:"inherit"})}),children:m})}),Object(B.jsxs)(se.a,{container:!0,spacing:3,children:[Object(B.jsx)(se.a,{item:!0,xs:12,md:12,lg:12,children:Object(B.jsx)(ce.a,{className:Object(f.a)(c.fixedHeight,c.paper),children:Object(B.jsx)(Se,{data:o})})}),Object(B.jsx)(se.a,{item:!0,xs:12,md:4,lg:4,children:Object(B.jsx)(ce.a,{className:c.paper,children:Object(B.jsx)(De,{text:(null!==(t=null===o||void 0===o?void 0:o.active_users)&&void 0!==t?t:0)+(null!==(n=null===o||void 0===o?void 0:o.deactivated_users)&&void 0!==n?n:0),title:"\u0412\u0441\u0435\u0433\u043e \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"})})}),Object(B.jsx)(se.a,{item:!0,xs:12,md:4,lg:4,children:Object(B.jsx)(ce.a,{className:c.paper,children:Object(B.jsx)(De,{text:null!==(r=null===o||void 0===o?void 0:o.active_users)&&void 0!==r?r:0,title:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"})})}),Object(B.jsx)(se.a,{item:!0,xs:12,md:4,lg:4,children:Object(B.jsx)(ce.a,{className:c.paper,children:Object(B.jsx)(De,{text:null!==(i=null===o||void 0===o?void 0:o.deactivated_users)&&void 0!==i?i:0,title:"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"})})}),Object(B.jsx)(se.a,{item:!0,xs:12,md:12,lg:12,children:Object(B.jsx)(ce.a,{className:c.paper,children:Object(B.jsx)(Ee,{actionsStats:null===o||void 0===o?void 0:o.command_stats})})})]})]})},He=Object(C.a)((function(e){return{authForm:{display:"flex",maxWidth:"314px",margin:"60px 0 0 0",flexDirection:"column",border:"none",padding:"0",width:"288px",gap:20,alignItems:"center"},authFormInputContainer:{position:"relative",marginBottom:"16px",display:"flex",flexDirection:"column",alignItems:"center",gap:35,width:"100%",border:"none"},authFormSubmitContainer:{display:"flex",justifyContent:"center",position:"relative",width:"100%"},authFormButtonContainer:{display:"flex",alignItems:"center",flexDirection:"column"},authFormButton:{cursor:"pointer",width:"100%",maxWidth:"230px",minHeight:"44px",backgroundPosition:"center",background:e.palette.secondary.main,border:"none",padding:"0"},authFormInput:{backgroundColor:e.palette.background.paper,filter:"none",borderColor:"transparent",borderRadius:"4px",border:"none",width:"100%",color:"#ffff",position:"relative","& input:-webkit-autofill":{"-webkit-box-shadow":"0 0 0px 1000px #4040 inset",transitionDelay:"9999s"}}}})),Ae=v.a().shape({last_name:v.b().required("\u041f\u043e\u043b\u0435 e-mail \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043a \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e"),first_name:v.b().required(),password:v.b().required("\u041f\u043e\u043b\u0435 \u043f\u0430\u0440\u043e\u043b\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043a \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e").min(8,"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}),Re=v.a().shape({id:v.b().uuid()}),Me=function(e){var t=e.onSubmit,n=Object(O.g)(),r=Object(O.h)();Object(a.useEffect)((function(){(function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("".concat("http://84.201.133.149/api/v1","/auth/invitation_checker/"),{json:{token:r.id}});case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n.push("/");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}})()(),Re.validate(r).catch((function(){return n.push("/")}))}),[]);var i=Object(k.e)({resolver:Object(w.a)(Ae),mode:"onTouched"}),o=i.handleSubmit,s=i.control,c=i.formState,u=c.errors,j=(c.isValid,Object(a.useState)(!1)),b=Object(h.a)(j,2),m=(b[0],b[1],He());return Object(B.jsxs)("form",{className:m.authForm,onSubmit:o((function(e){t(e,r)})),children:[Object(B.jsxs)("fieldset",{className:m.authFormInputContainer,children:[Object(B.jsx)(k.a,{name:"first_name",control:s,defaultValue:"",render:function(e){var t,n,a=e.field;return Object(B.jsx)(y.a,Object(l.a)({label:"\u0418\u043c\u044f",fullWidth:!0,error:Boolean(null===(t=u.first_name)||void 0===t?void 0:t.message),helperText:null===(n=u.first_name)||void 0===n?void 0:n.message,className:m.authFormInput,size:"medium",variant:"outlined"},a))}}),Object(B.jsx)(k.a,{name:"last_name",control:s,defaultValue:"",render:function(e){var t,n,a=e.field;return Object(B.jsx)(y.a,Object(l.a)({label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",error:Boolean(null===(t=u.first_name)||void 0===t?void 0:t.message),helperText:null===(n=u.first_name)||void 0===n?void 0:n.message,className:m.authFormInput,size:"medium",variant:"outlined"},a))}}),Object(B.jsx)(k.a,{name:"password",control:s,defaultValue:"",render:function(e){var t,n,a=e.field;return Object(B.jsx)(y.a,Object(l.a)({variant:"outlined",label:"\u041f\u0430\u0440\u043e\u043b\u044c",error:Boolean(null===(t=u.password)||void 0===t?void 0:t.message),helperText:null===(n=u.password)||void 0===n?void 0:n.message,className:m.authFormInput,type:"password",size:"medium"},a))}})]}),Object(B.jsx)(F.a,{className:m.authFormButton,type:"submit",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})},Le=v.a().shape({email:v.b().email("\u0422\u0430\u043a\u043e\u0439 e-mail \u043d\u0435 \u043f\u043e\u0434\u043e\u0439\u0434\u0435\u0442").required("\u041f\u043e\u043b\u0435 e-mail \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043a \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e")}),qe=function(e){var t=e.onSubmit,n=N(),a=Object(k.e)({resolver:Object(w.a)(Le),mode:"onTouched"}),r=a.handleSubmit,i=a.control,o=a.formState.errors;return Object(B.jsxs)("form",{className:n.authForm,onSubmit:r(t),children:[Object(B.jsx)("fieldset",{className:n.authFormInputContainer,children:Object(B.jsx)(k.a,{name:"email",control:i,defaultValue:"",render:function(e){var t,a,r=e.field;return Object(B.jsx)(y.a,Object(l.a)({label:"E-mail",error:Boolean(null===(t=o.email)||void 0===t?void 0:t.message),helperText:null===(a=o.email)||void 0===a?void 0:a.message,className:n.authFormInput,size:"medium",variant:"outlined"},r))}})}),Object(B.jsx)(S.a,{component:s.b,to:"/",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"}),Object(B.jsx)(F.a,{className:n.authFormButton,type:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})},We={palette:{type:"light",primary:{main:"#3f51b5"},secondary:{main:"#f73378"}}},Ve={palette:{type:"dark",primary:{main:"#44318d"},secondary:{main:"#AB81F1"},background:{default:"#06091F",paper:"rgba(255,255,255,0.1)"},error:{main:"#F6483D"},divider:"rgba(255,255,255,0.1)",info:{main:"#AB81F1"},text:{primary:"#ffffff",secondary:"#676C7A",disabled:"#676C7A"}}};var Ge=function(e,t){var n=Object(a.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return console.log(a),t}})),r=Object(h.a)(n,2),i=r[0],o=r[1];return[i,function(t){try{var n=t instanceof Function?t(i):t;o(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(a){console.log(a)}}]},Je=n(270),Ke=n.n(Je),Ue=(n(447),Object(C.a)((function(e){return{form:{display:"flex",alignItems:"center",flexDirection:"column",width:"100%",gap:20,marginTop:120,paddingRight:"20px"},statusInfo:{position:"absolute",top:70},authFormButton:{cursor:"pointer",top:"8px",right:"12px",width:"120px",minHeight:"44px",backgroundPosition:"center",background:e.palette.secondary.main,border:"none",padding:"0"},quill:{width:"100%",minHeight:"150px","& a":{color:"#06c!important"},"& span":{color:"inherit!important"},"& .ql-container":{minHeight:"150px"},"& .ql-fill":{fill:"dark"===e.palette.type?"white":"black",color:"dark"===e.palette.type?"white":"black"},"& .ql-snow":{fill:"dark"===e.palette.type?"white":"black",color:"dark"===e.palette.type?"white":"black"},"& .ql-stroke":{stroke:"dark"===e.palette.type?"white":"black",color:"dark"===e.palette.type?"white":"black"},"& .ql-picker-label":{color:"dark"===e.palette.type?"white":"black"}}}}))),Xe={toolbar:[["bold","italic","underline","strike"],["link"]],clipboard:{matchVisual:!1}},Qe=function(e){var t=e.onSubmit,n=Ue(),a=Object(k.e)(),r=a.handleSubmit,i=a.control;return Object(B.jsxs)("form",{className:n.form,onSubmit:r(t),children:[Object(B.jsx)(k.a,{name:"message",control:i,defaultValue:"",render:function(e){var t=e.field;return Object(B.jsx)(Ke.a,Object(l.a)({preserveWhitespace:!0,className:n.quill,modules:Xe,theme:"snow"},t))}}),Object(B.jsx)(F.a,{className:n.authFormButton,type:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})},Ye=Object(C.a)((function(e){var t,n,a,r,i=null!==(t=null===(n=Object(O.i)("/send"))||void 0===n?void 0:n.isExact)&&void 0!==t&&t;return{root:{background:"light"===e.palette.type?null===(a=Ve.palette)||void 0===a||null===(r=a.background)||void 0===r?void 0:r.default:"#FFFFF"},content:{transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflow:"hidden",marginLeft:"100px",marginTop:"60px",display:"flex",flexDirection:"column",width:"calc(100% - 260px)"},contentShift:{overflow:"visible",transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),width:"calc(100% - ".concat(i?268:348,"px)"),marginLeft:268}}})),Ze=v.a().shape({email:v.b().email("\u0422\u0430\u043a\u043e\u0439 e-mail \u043d\u0435 \u043f\u043e\u0434\u043e\u0439\u0434\u0435\u0442").required("\u041f\u043e\u043b\u0435 e-mail \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043a \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e")}),$e=function(e){var t=e.onSubmit,n=N(),a=Object(k.e)({resolver:Object(w.a)(Ze),mode:"onTouched"}),r=a.handleSubmit,i=a.control,o=a.formState.errors;return Object(B.jsx)("div",{className:n.invite,children:Object(B.jsxs)("form",{className:n.authForm,onSubmit:r(t),children:[Object(B.jsx)("fieldset",{className:n.authFormInputContainer,children:Object(B.jsx)(k.a,{name:"email",control:i,defaultValue:"",render:function(e){var t,a,r=e.field;return Object(B.jsx)(y.a,Object(l.a)({label:"E-mail",error:Boolean(null===(t=o.email)||void 0===t?void 0:t.message),helperText:null===(a=o.email)||void 0===a?void 0:a.message,className:n.authFormInput,size:"medium",variant:"outlined"},r))}})}),Object(B.jsx)(F.a,{className:n.authFormButton,type:"submit",children:"\u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})})},et=function(e){var t=e.component,n=e.path,a=e.condition;return Object(B.jsx)(O.b,{path:n,children:a?t:Object(B.jsx)(O.a,{to:"/"})})},tt=Object(C.a)((function(e){return{status:{position:"absolute",top:70}}})),nt=function(e){var t=e.open,n=e.handleCloseError,a=e.isError,r=e.statusMessage,i=tt();return Object(B.jsx)(ue.a,{in:t,className:i.status,children:Object(B.jsx)(le.a,{severity:a?"error":"success",variant:"outlined",action:Object(B.jsx)(D.a,{"aria-label":"close",color:"inherit",size:"small",onClick:n,children:Object(B.jsx)(pe.a,{fontSize:"inherit"})}),children:r})})};var at=function(){var e=Ge("theme",!0),t=Object(h.a)(e,2),n=t[0],i=t[1],o=Ge("user",!1),s=Object(h.a)(o,2),u=s[0],v=s[1],w=Ge("refresh_token",!1),k=Object(h.a)(w,2),y=k[0],S=k[1],F=function(){v(!1),S(!1)},C=Object(a.useState)(!1),N=Object(h.a)(C,2),T=N[0],E=N[1],_=Object(a.useState)(!1),D=Object(h.a)(_,2),P=(D[0],D[1]),z=Object(a.useState)(!1),H=Object(h.a)(z,2),A=H[0],R=H[1],M=Object(a.useState)(null),L=Object(h.a)(M,2),q=L[0],W=L[1],V=Object(a.useState)(null),G=Object(h.a)(V,2),J=G[0],K=G[1],U=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("http://84.201.133.149/api/v1","/auth/token_refresh/"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(y)}});case 3:if(t=e.sent,P(!0),401!==t.status){e.next=9;break}F(),e.next=13;break;case 9:return e.next=11,t.json();case 11:n=e.sent,v(n.token);case 13:return e.prev=13,P(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,,13,16]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),E(!1),e.next=5,fetch("".concat("http://84.201.133.149/api/v1","/analysis/"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)}});case 5:if(200!==(t=e.sent).status){e.next=13;break}return e.next=9,t.json();case 9:n=e.sent,K(n),e.next=22;break;case 13:if(401!==t.status){e.next=17;break}U(),e.next=22;break;case 17:return e.next=19,t.json();case 19:throw a=e.sent,R(!0),new Error(a);case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),W(e.t0.message);case 27:return e.prev=27,P(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[0,24,27,30]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!1),e.next=4,fetch("".concat("http://84.201.133.149/api/v1","/auth/invitation/"),{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}});case 4:if(200!==(n=e.sent).status){e.next=13;break}return e.next=8,n.json();case 8:a=e.sent,E(!0),W(a.message),e.next=17;break;case 13:return e.next=15,n.json();case 15:throw r=e.sent,new Error(r);case 17:e.next=24;break;case 19:e.prev=19,e.t0=e.catch(0),R(!0),E(!0),W(e.t0.message);case 24:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),Y=Object(O.g)();console.log(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_ADDRESS:"http://84.201.133.149/api/v1"}));var Z=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),e.next=4,g.a.post("".concat("http://84.201.133.149/api/v1","/auth/login/"),{json:Object(l.a)({},t),throwHttpErrors:!1});case 4:if(200!==(n=e.sent).status){e.next=15;break}return e.next=8,n.json();case 8:a=e.sent,v(a.access_token),S(a.refresh_token),R(!1),Y.push("/dashboard"),e.next=19;break;case 15:return e.next=17,n.json();case 17:throw r=e.sent,new Error(r.message);case 19:e.next=26;break;case 21:e.prev=21,e.t0=e.catch(0),R(!0),E(!0),W(e.t0.message);case 26:return e.prev=26,P(!1),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[0,21,26,29]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),W(null),e.next=5,fetch("".concat("http://84.201.133.149/api/v1","/auth/password_reset/"),{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}});case 5:if(200!==(n=e.sent).status){e.next=14;break}return E(!0),e.next=10,n.json();case 10:a=e.sent,W(a.message),e.next=18;break;case 14:return e.next=16,n.json();case 16:throw r=e.sent,new Error(r.message);case 18:e.next=25;break;case 20:e.prev=20,e.t0=e.catch(0),R(!0),E(!0),W(e.t0.message);case 25:return e.prev=25,P(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[0,20,25,28]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,r,i,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.message.replace(/(<p[^>]+?>|<p>)/gim,""),a=n.replace(/(<br[^>]+?>|<br>|<\/p>)/gim,"\n"),r={message:a},e.prev=3,P(!0),W(null),e.next=8,g.a.post("".concat("http://84.201.133.149/api/v1","/send_telegram_notification/"),{json:Object(l.a)({},r),retry:{limit:1,methods:["post"],statusCodes:[401]},throwHttpErrors:!1,headers:{Authorization:"Bearer ".concat(u)},hooks:{afterResponse:[function(){var e=Object(p.a)(d.a.mark((function e(t,n,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==a.status){e.next=6;break}return e.next=3,g.a.post("".concat("http://84.201.133.149/api/v1","/auth/token_refresh/"),{headers:{Authorization:"Bearer ".concat(y)}});case 3:return r=e.sent,t.headers.set("Authorization","Bearer ".concat(r)),e.abrupt("return",Object(g.a)(t));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()]}});case 8:if(200!==(i=e.sent).status){e.next=18;break}return E(!0),R(!1),e.next=14,i.json();case 14:o=e.sent,W(o.result),e.next=22;break;case 18:return e.next=20,i.json();case 20:throw s=e.sent,new Error(s.message);case 22:e.next=29;break;case 24:e.prev=24,e.t0=e.catch(3),R(!0),E(!0),W(e.t0.message);case 29:return e.prev=29,P(!1),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[3,24,29,32]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(p.a)(d.a.mark((function e(t,n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),e.next=4,g.a.post("".concat("http://84.201.133.149/api/v1","/auth/register/"),{json:Object(l.a)(Object(l.a)({},t),{},{token:n.id}),throwHttpErrors:!1});case 4:if(200!==(a=e.sent).status){e.next=10;break}R(!1),Y.push("/"),e.next=14;break;case 10:return e.next=12,a.json();case 12:throw r=e.sent,new Error(r.message);case 14:e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),R(!0),E(!0),W(e.t0.message);case 21:return e.prev=21,P(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,16,21,24]])})));return function(t,n){return e.apply(this,arguments)}}(),ne=r.a.useState(!0),ae=Object(h.a)(ne,2),re=ae[0],ie=ae[1],se=Ye();Object(a.useEffect)((function(){null===localStorage.getItem("theme")&&i(n)}),[i,n]);var ce=n?Ve:We,le=r.a.useMemo((function(){return Object(j.a)({palette:Object(l.a)({},ce.palette),overrides:{MuiFormHelperText:{root:{position:"absolute",bottom:"-19px",whiteSpace:"nowrap",margin:0,textAlign:"left"},contained:{marginLeft:"0",marginRight:0}},MuiOutlinedInput:{input:{"&:-webkit-autofill":{transitionDelay:"9999s","-webkit-text-fill-color":n?"#fff":"black"}},notchedOutline:{borderColor:n?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.2)"}},MuiButton:{root:{cursor:"pointer",width:"120px",minHeight:"44px",backgroundPosition:"center",border:"none",padding:"0","&:hover":{backgroundColor:n?"#8852E1":"#f50057"}}},MuiSvgIcon:{root:{fill:n?"white":"black"}},MuiTextField:{root:{"&:hover":{borderColor:"#8852E1"}}},MuiContainer:{root:{width:"100%",maxWidth:"100%",paddingLeft:0,paddingRight:0,marginLeft:0,marginRight:0,display:"flex",flexDirection:"column",alignItems:"center","@media (min-width: 600px)":{paddingLeft:0,paddingRight:0}},maxWidthLg:{width:"100%",maxWidth:"100%","@media (min-width: 1280px)":{width:"100%",maxWidth:"100%"}}},MuiCssBaseline:{"@global":{body:{overflow:"hidden",backgroundColor:n?"#06091F":"#F8FAFD"}}}}})}),[ce.palette,n]);return Object(B.jsxs)(b.a,{theme:le,children:[Object(B.jsx)(m.a,{}),Object(B.jsxs)(x.a,{children:[Object(B.jsx)(oe,{isDark:n,removeToken:F,handleSetTheme:function(){i(!n)},isMenuOpen:re,handleDrawerOpen:function(){ie(!0)},handleDrawerClose:function(){ie(!1)}}),Object(B.jsx)(nt,{isError:A,statusMessage:q,open:T,handleCloseError:function(){return E(!1)}}),Object(B.jsxs)(O.d,{children:[Object(B.jsx)(O.b,{exact:!0,path:"/",children:u?Object(B.jsx)(O.a,{to:"/dashboard"}):Object(B.jsx)(I,{onLogin:Z})}),Object(B.jsx)(et,{condition:u,component:Object(B.jsx)("main",{className:Object(f.a)(se.content,Object(c.a)({},se.contentShift,re)),children:Object(B.jsx)(ze,{userStats:J,fetchUserStats:X})}),path:"/dashboard"}),Object(B.jsx)(et,{condition:u,component:Object(B.jsx)("main",{className:Object(f.a)(se.content,Object(c.a)({},se.contentShift,re)),children:Object(B.jsx)(Qe,{onSubmit:ee})}),path:"/send"}),Object(B.jsx)(O.b,{path:"/invite",children:Object(B.jsx)("main",{className:Object(f.a)(se.content,Object(c.a)({},se.contentShift,re)),children:Object(B.jsx)($e,{onSubmit:Q})})}),Object(B.jsx)(O.b,{path:"/register/:id",children:Object(B.jsx)(Me,{onSubmit:te})}),Object(B.jsx)(O.b,{path:"/reset_password",children:Object(B.jsx)(qe,{onSubmit:$})}),Object(B.jsx)(O.a,{to:"/"})]})]})]})},rt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,525)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))};o.a.render(Object(B.jsx)(r.a.StrictMode,{children:Object(B.jsx)(s.a,{children:Object(B.jsx)(at,{})})}),document.getElementById("root")),rt()}},[[448,1,2]]]);
//# sourceMappingURL=main.c2832179.chunk.js.map